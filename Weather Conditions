import streamlit as st
import requests

st.set_page_config(page_title="ğŸŒ¦ï¸ Weather App", page_icon="â˜€ï¸")
st.title("ğŸ“ Weather Conditions")

api_key = "318447a2fc38d3d2393c02f632c80dee"  # Replace with your actual API key
city = st.text_input("Enter city name:")

if st.button("Get Weather"):
    if city:
        url = f"http://api.openweathermap.org/data/2.5/weather?q={city}&appid={api_key}&units=metric"
        response = requests.get(url).json()

        if response.get("cod") != 200:
            st.error(f"City not found: {response.get('message', 'Unknown error')}")
        else:
            condition = response["weather"][0]["main"]
            description = response["weather"][0]["description"].capitalize()
            temp = response["main"]["temp"]
            icon_code = response["weather"][0]["icon"]
            icon_url = f"http://openweathermap.org/img/wn/{icon_code}@2x.png"

            # Emoji based on condition
            if "Cloud" in condition:
                emoji = "â˜ï¸"
            elif "Rain" in condition:
                emoji = "ğŸŒ§ï¸"
            elif "Clear" in condition:
                emoji = "â˜€ï¸"
            elif "Snow" in condition:
                emoji = "â„ï¸"
            elif "Thunderstorm" in condition:
                emoji = "â›ˆï¸"
            else:
                emoji = "ğŸŒ¡ï¸"

            st.image(icon_url)
            st.markdown(f"## {emoji} {city.title()} Weather")
            st.markdown(f"### {description}, {temp} Â°C")
    else:
        st.warning("Please enter a city name")
